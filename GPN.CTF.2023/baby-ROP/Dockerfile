# docker build -t baby-rop-but-unexploitable . && docker run -p 1337:1337 baby-rop-but-unexploitable

FROM ubuntu:22.04

RUN apt update && apt install -y --no-install-recommends gcc libc-dev gdbserver && rm -rf /var/lib/apt/lists/*

RUN echo "8f7d59c6f95b0cf57a8db165033296dda91d1239  /lib/x86_64-linux-gnu/libc.so.6" | sha1sum -c

COPY flag.txt /flag.txt

WORKDIR /src
COPY main.c main.c
RUN gcc -o main main.c

EXPOSE 1337

RUN useradd ctf
USER ctf

CMD ./main
